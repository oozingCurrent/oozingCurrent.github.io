<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Project Placeholder</title>
    <style>
      .rotate {
        animation: rotation 8s infinite linear;
      }
      @keyframes rotation {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(359deg);
        }
      }
    </style>
</head>
<body>
    
    <h1>placeholder start</h1><br></br></br>

<img src="/pictures/body.png" id="body">
<img src="/pictures/eyes.png" id="eyes">
<img src="/pictures/mouth.png" id="mouth">
<img id="x">


<canvas id="myCanvas" width="256" height="256">
Your browser does not support the HTML5 canvas tag.
</canvas>

<script>
    var image;
    
//     window.onload = function() {
        function startCanvas() {
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var body = document.getElementById("body");
        var eyes = document.getElementById("eyes");
        var mouth = document.getElementById("mouth");
        ctx.drawImage(body, 0,0);
        ctx.drawImage(eyes, 0,0);
        ctx.drawImage(mouth, 0,0);
        image = canvas.toDataURL("image/png");
    };
    
    function download() {
//         var image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
//         window.location.href = image;
        document.getElementById("x").src=image;
    };
    
    function test() {
        document.write('<img src="'+image+'"/>');
    };
</script>    

<button class="button startCanvas" id="button_start" onclick="startCanvas()">Create</button>
<button class="button test" id="button_test" onclick="test()">TEST</button>
<button class="button download" id="button_download" onclick="download()">Combine</button>

</body>
</html>
